(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{124:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);var c=a(36),s=a.n(c),n=a(5),r=(a(124),a(7)),i=a(12),l=a(4),o=a(116),d=a(0),j=function(e){var t=e.component,a=Object(o.a)(e,["component"]),c=Object(n.d)((function(e){return e.userLogin.currentUser}));return Object(d.jsx)(i.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return c?Object(d.jsx)(t,Object(l.a)({},e)):Object(d.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},u=a(1),m=a(111),b=(a(132),a(10)),p=a.n(b),h=a(14),O=a(112),x=a.n(O).a.create({baseURL:"http://localhost:5000"}),f="PRODUCT_FETCH_REQUEST",v="PRODUCT_FETCH_SUCCESS",N="PRODUCT_FETCH_FAIL",y="PRODUCT_DETAILS_REQUEST",g="PRODUCT_DETAILS_SUCCESS",E="PRODUCT_DETAILS_FAIL",w="CART_ADD_ITEM",S="CART_REMOVE_ITEM",C=" CART_ACTION_RESET",k=" CART_ITEMS_RESET",_=function(e){return function(t,a){t({type:w,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}},R=function(e){return function(t,a){t({type:S,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}};function I(){return Object(d.jsx)("div",{className:"spinner",children:Object(d.jsxs)("div",{className:"bouncing-loader",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})})}function T(e){var t=e.children,a=e.type;return e.dismiss?Object(d.jsx)("div",{className:"message container",children:Object(d.jsxs)("div",{className:"alert alert-".concat(a," alert-dismissible fade show"),role:"alert",children:[t,Object(d.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]})}):Object(d.jsx)("div",{className:"alert alert-".concat(a),role:"alert",children:t})}var D=a(31),U=a.n(D),L=U.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),A=function(e){console.log("HomeScreen render");var t=Object(n.c)(),a=Object(n.d)((function(e){return e.products})),c=a.loading,s=a.error,i=a.products,l=Object(n.d)((function(e){return e.cart})),o=l.cartItems,j=l.actionSuccess;Object(u.useEffect)((function(){t(function(){var e=Object(h.a)(p.a.mark((function e(t,a){var c,s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.prev=1,e.next=4,x.get("/api/products");case 4:c=e.sent,s=c.data,t({type:v,payload:s}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:N,payload:n});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}())}),[t]),Object(u.useEffect)((function(){j&&(t({type:C}),L.fire({icon:"success",title:"\u6210\u529f\u52a0\u5165\u8cfc\u7269\u8eca\u4e2d"}))}),[t,j]);return Object(d.jsx)(d.Fragment,{children:c?Object(d.jsx)(I,{}):s?Object(d.jsx)(T,{type:"danger",children:s}):i?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("section",{className:"banner",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(m.Carousel,{showArrows:!0,autoPlay:!0,showThumbs:!1,showStatus:!1,infiniteLoop:!0,interval:"2000",stopOnHover:!0,children:i.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsxs)(r.b,{to:"/products/".concat(e.id),className:"banner-link",children:[Object(d.jsx)("img",{src:e.image,alt:e.name,className:"banner-img"}),Object(d.jsx)("p",{className:"legend",children:e.name})]})},e.id)}))})})}),Object(d.jsx)("section",{id:"product-list",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"product-list-wrapper",children:i.map((function(e){return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)(r.b,{to:"/products/".concat(e.id),className:"card-img-wrapper",children:[Object(d.jsx)("img",{src:e.image,alt:e.name,className:"card-img"}),Object(d.jsx)("span",{className:"card-img-title",children:e.name})]}),Object(d.jsxs)("div",{className:"card-product-info-wrapper",children:[Object(d.jsx)(r.b,{to:"/products/".concat(e.id),className:"card-product-title",children:e.name}),Object(d.jsxs)("div",{className:"card-product-price-row",children:[Object(d.jsxs)("span",{className:"price",children:["$ ",e.price]}),Object(d.jsx)("i",{className:"fas fa-cart-plus cart",onClick:function(){!function(e){if(o.find((function(t){return t.id===e.id})))L.fire({icon:"info",title:"\u6b64\u5546\u54c1\u5df2\u5b58\u5728\u65bc\u8cfc\u7269\u8eca\u4e2d"});else{var a=JSON.parse(JSON.stringify(e));a.quantity=1,t(_(a))}}(e)}})]})]})]},e.id)}))})})})]}):void 0})},q=a(16);function F(e){console.log("ProductDetailsScreen render");var t=e.match.params.id,a=Object(n.d)((function(e){return e.productDetails})),c=a.loading,s=a.error,i=a.product,l=Object(n.d)((function(e){return e.cart})),o=l.cartItems,j=l.actionSuccess,m=Object(u.useState)(1),b=Object(q.a)(m,2),O=b[0],f=b[1],v=Object(n.c)();Object(u.useEffect)((function(){v(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(a,c){var s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:y}),t.prev=1,t.next=4,x.get("/api/products/".concat(e));case 4:s=t.sent,n=s.data,a({type:g,payload:n}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),r=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:E,payload:r});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}),[v,t]),Object(u.useEffect)((function(){j&&(v({type:C}),L.fire({icon:"success",title:"\u6210\u529f\u52a0\u5165\u8cfc\u7269\u8eca"}))}),[v,j]);var N=function(){return f(O+1)},w=function(){O<=1||f(O-1)},S=function(e){/^[1-9]\d*$/.test(e.target.value)?f(Number(e.target.value)):f("")},k=function(){var e=1;""!==O&&(e=O);var t=o.find((function(e){return e.id===i.id})),a=JSON.parse(JSON.stringify(i));a.quantity=t?t.quantity+e:e,v(_(a)),f(1)};return c?Object(d.jsx)(I,{}):s?Object(d.jsx)(T,{type:"danger",children:s}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{id:"product-details",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(r.b,{to:"/",className:"nav-back-link",children:"\u56de\u5230\u9996\u9801"}),Object(d.jsxs)("div",{className:"product-details-wrapper",children:[Object(d.jsx)("div",{className:"product-img-wrapper",children:Object(d.jsx)("img",{src:i.image,alt:i.name,className:"product-img"})}),Object(d.jsxs)("div",{className:"product-info-wrapper",children:[Object(d.jsx)("span",{className:"product-brand",children:i.Brand.name}),Object(d.jsx)("h4",{className:"product-title",children:i.name}),Object(d.jsx)("p",{className:"product-description",children:i.description})]}),Object(d.jsxs)("div",{className:"product-summary-wrapper",children:[Object(d.jsxs)("span",{className:"product-price",children:["$ ",i.price]}),Object(d.jsxs)("div",{className:"product-action",children:[Object(d.jsxs)("div",{className:"counter product-details-counter",children:[Object(d.jsx)("span",{children:"\u6578\u91cf"}),Object(d.jsx)("i",{className:"fas fa-minus minus",onClick:w}),Object(d.jsx)("input",{type:"text",value:O,className:"qty",onChange:S}),Object(d.jsx)("i",{className:"fas fa-plus plus",onClick:N})]}),Object(d.jsx)("button",{onClick:k,className:"add-to-cart-btn btn default-btn",children:"\u52a0\u5165\u8cfc\u7269\u8eca"})]})]})]})]})})})}var M=function(e){var t=e.qty,a=e.item;console.log("Counter Render");var c=Object(u.useState)(t),s=Object(q.a)(c,2),r=s[0],i=s[1],l=Object(n.c)();return Object(d.jsxs)("div",{className:"counter",children:[Object(d.jsx)("i",{className:"fas fa-minus minus",onClick:function(){r<=1||(i(r-1),a.quantity=r-1,l(_(a)),l({type:C}))}}),Object(d.jsx)("input",{type:"text",value:r,className:"qty",onChange:function(e){/^[1-9]\d*$/.test(e.target.value)?(i(Number(e.target.value)),a.quantity=Number(e.target.value),l(_(a)),l({type:C})):(i(""),a.quantity=1,l(_(a)),l({type:C}))}}),Object(d.jsx)("i",{className:"fas fa-plus plus",onClick:function(){i(r+1),a.quantity=r+1,l(_(a)),l({type:C})}})]})},P=function(e){console.log("CartScreen render");var t=Object(n.d)((function(e){return e.cart})),a=t.cartItems,c=t.actionSuccess,s=Object(n.c)(),i=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.fire({title:"\u78ba\u8a8d\u522a\u9664\u6b64\u5546\u54c1?",showDenyButton:!0,showConfirmButton:!0,denyButtonText:"\u53d6\u6d88",confirmButtonText:"\u522a\u9664"});case 2:e.sent.isConfirmed&&s(R(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){c&&(s({type:C}),L.fire({title:"\u6210\u529f\u522a\u9664",icon:"success"}))}),[s,c]);return Object(d.jsx)(d.Fragment,{children:function(){if(!a.length)return Object(d.jsxs)(T,{type:"info",dismiss:!1,children:["\u8cfc\u7269\u8eca\u5167\u6c92\u6709\u5546\u54c1 ",Object(d.jsx)(r.b,{to:"/",children:"\u53bb\u9078\u8cfc"})]});var t=a.reduce((function(e,t){return e+t.price*t.quantity}),0),c=a.reduce((function(e,t){return e+t.quantity}),0);return Object(d.jsx)("section",{id:"cart",children:Object(d.jsxs)("div",{className:"container-lg",children:[Object(d.jsx)(r.b,{to:{pathname:e.location.state?e.location.state.from.pathname:"/"},className:"nav-back-link",children:"\u56de\u5230\u4e0a\u4e00\u9801"}),Object(d.jsxs)("div",{className:"cart-list-wrapper",children:[Object(d.jsxs)("div",{className:"cart-header",children:[Object(d.jsx)("span",{className:"cart-img"}),Object(d.jsx)("span",{className:"cart-title",children:"\u5546\u54c1"}),Object(d.jsx)("span",{className:"cart-price",children:"\u55ae\u50f9"}),Object(d.jsx)("span",{className:"cart-counter",children:"\u6578\u91cf"}),Object(d.jsx)("span",{className:"cart-subtotal",children:"\u7e3d\u8a08"}),Object(d.jsx)("span",{className:"cart-action",children:"\u64cd\u4f5c"})]}),a.map((function(e){return Object(d.jsxs)("div",{className:"cart-item",children:[Object(d.jsx)("img",{className:"cart-item-img",src:e.image,alt:e.name}),Object(d.jsx)(r.b,{className:"cart-item-title",to:"/products/".concat(e.id),children:e.name}),Object(d.jsxs)("span",{className:"cart-item-price",children:["$",e.price]}),Object(d.jsx)(M,{item:e,qty:e.quantity}),Object(d.jsxs)("span",{className:"cart-item-subtotal",children:["$",e.price*e.quantity]}),Object(d.jsx)("div",{className:"cart-item-action",children:Object(d.jsx)("button",{className:"cart-item-delete-btn btn-link btn",onClick:function(){return i(e.id)},children:"\u522a\u9664"})})]},e.id)}))]}),Object(d.jsxs)("div",{className:"order-placement",children:[Object(d.jsxs)("div",{className:"cart-summary-subtotal",children:[Object(d.jsxs)("span",{children:["\u7e3d\u91d1\u984d(",c,"\u9805\u5546\u54c1):"]}),Object(d.jsxs)("span",{className:"subtotal-price",children:["$",t]})]}),Object(d.jsx)(r.b,{to:"/checkout",className:"place-order-link",children:Object(d.jsx)("button",{className:"place-order-btn",children:"\u53bb\u8cb7\u55ae"})})]})]})})}()})},$="USER_LOGIN_REQUEST",B="USER_LOGIN_SUCCESS",J="USER_LOGIN_FAIL",H="USER_LOGOUT",G="USER_REGISTER_REQUEST",Q="USER_REGISTER_SUCCESS",Z="USER_REGISTER_FAIL",V="USER_REGISTER_RESET",z=function(e){console.log("Header render");var t=Object(n.d)((function(e){return e.cart.cartItems})).reduce((function(e,t){return e+t.quantity}),0),a=Object(n.d)((function(e){return e.userLogin.currentUser})),c=Object(u.useState)(!1),s=Object(q.a)(c,2),i=s[0],l=s[1],o=Object(n.c)(),j=function(){o((function(e,t){e({type:H}),localStorage.removeItem("currentUser")}))},m=function(){return Object(d.jsxs)("div",{className:"dropdown",children:[Object(d.jsxs)("button",{className:"btn btn-link dropdown-toggle nav-link",type:"button",id:"user-dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Hi, ",a.name]}),Object(d.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"user-dropdown",children:[Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{className:"nav-link",to:"/orders",onClick:function(){return l(!i)},children:"\u8a02\u55ae"})}),Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{className:"nav-link",to:"#logout",onClick:function(){j(),l(!i)},children:"\u767b\u51fa"})})]})]})};return Object(d.jsxs)("header",{children:[Object(d.jsx)(r.b,{to:"/",className:"navbar-brand",children:"\u6bdb\u5c0f\u5b69\u5546\u57ce"}),Object(d.jsx)("input",{type:"checkbox",className:"navbar-toggle",id:"navbar-toggle",checked:i}),Object(d.jsx)("nav",{className:"nav",children:Object(d.jsxs)("ul",{className:"nav-list",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(r.b,{className:"nav-link",onClick:function(){return l(!i)},to:{pathname:"/cart",state:{from:e.location}},children:["\u8cfc\u7269\u8eca ",Object(d.jsxs)("strong",{children:["(",t,")"]})]})}),Object(d.jsx)("li",{className:"nav-item",children:a?Object(d.jsx)(m,{}):Object(d.jsx)(r.b,{className:"nav-link",to:{pathname:"/login",state:{from:e.location}},onClick:function(){return l(!i)},children:"\u6703\u54e1\u767b\u5165"})})]})}),Object(d.jsx)("label",{htmlFor:"navbar-toggle",className:"navbar-toggle-label",onClick:function(){return l(!i)},children:Object(d.jsx)("span",{className:"hamburger"})})]})},X=a(252),W=a(251),K=function(e){var t=e.input,a=e.meta,c=e.labelContent,s=e.id,n=e.type,r=e.placeholder,i=e.selector;return Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:s,className:"form-label",children:c}),Object(d.jsx)("input",Object(l.a)({autoComplete:"off",type:n,className:"register-".concat(i," form-control").concat(a.error&&a.touched?" is-invalid":""),id:s,placeholder:r},t)),function(e){var t=e.touched,a=e.error;if(t&&a)return Object(d.jsx)("div",{className:"invalid-feedback",children:a})}(a)]})},Y=Object(W.a)({form:"register",validate:function(e){var t=e.name,a=e.email,c=e.password,s=e.confirmPassword,n={};return t||(n.name="\u59d3\u540d\u6b04\u4f4d\u4e0d\u53ef\u7a7a\u767d"),a?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(a)||(n.email="Email\u683c\u5f0f\u6709\u8aa4"):n.email="Email\u6b04\u4f4d\u4e0d\u53ef\u7a7a\u767d",c?c!==s&&(n.confirmPassword="\u5169\u6b21\u5bc6\u78bc\u4e0d\u76f8\u7b26"):n.password="\u5bc6\u78bc\u6b04\u4f4d\u4e0d\u53ef\u7a7a\u767d",n}})((function(e){var t=Object(n.c)(),a=Object(n.d)((function(e){return e.userRegister})),c=a.loading,s=a.success,i=a.error;Object(u.useEffect)((function(){s&&(e.location.state&&e.location.state.from?e.history.replace(e.location.state.from):e.history.replace("/"),t({type:V}))}),[s,t,e.history,e.location.state]);var l;return Object(d.jsxs)("section",{id:"register",children:[i&&(l=i,"string"!==typeof l?l.map((function(e,t){return Object(d.jsx)(T,{type:"danger",children:e},t)})):Object(d.jsx)(T,{type:"danger",children:l})),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"register-wrapper",children:[c&&Object(d.jsx)(I,{}),Object(d.jsxs)("form",{onSubmit:e.handleSubmit((function(e){var a,c=e.name,s=e.email,n=e.phone,r=e.password,i=e.confirmPassword;t((a={name:c,email:s,phone:n,password:r,confirmPassword:i},function(){var e=Object(h.a)(p.a.mark((function e(t,c){var s,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:G}),e.prev=1,e.next=4,x.post("/api/register",a);case 4:s=e.sent,n=s.data,t({type:Q}),t({type:B,payload:n}),localStorage.setItem("currentUser",JSON.stringify(n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),r=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:Z,payload:r});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()))})),className:"register-form",children:[Object(d.jsx)("h3",{className:"register-title",children:"\u8a3b\u518a"}),Object(d.jsx)("span",{className:"form-hint",children:"*\u5fc5\u586b\u6b04\u4f4d"}),Object(d.jsx)(X.a,{name:"name",component:K,labelContent:"*\u59d3\u540d",id:"name",type:"text",placeholder:"\u8acb\u8f38\u5165\u59d3\u540d",selector:"name"}),Object(d.jsx)(X.a,{name:"email",component:K,labelContent:"*Email",id:"email",type:"email",placeholder:"\u8acb\u8f38\u5165Email",selector:"email"}),Object(d.jsx)(X.a,{name:"phone",component:K,labelContent:"\u806f\u7d61\u96fb\u8a71",id:"phone",type:"text",placeholder:"\u8acb\u8f38\u5165\u806f\u7d61\u96fb\u8a71",selector:"phone"}),Object(d.jsx)(X.a,{name:"password",component:K,labelContent:"*\u5bc6\u78bc",id:"password",type:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",selector:"password"}),Object(d.jsx)(X.a,{name:"confirmPassword",component:K,labelContent:"*\u8acb\u518d\u8f38\u5165\u4e00\u6b21\u5bc6\u78bc",id:"confirmPassword",type:"password",placeholder:"\u8acb\u8f38\u5165\u8acb\u518d\u8f38\u5165\u4e00\u6b21\u5bc6\u78bc",selector:"confirmPassword"}),Object(d.jsx)("button",{type:"submit",className:"login-btn default-btn btn",children:"\u8a3b\u518a"}),Object(d.jsxs)("div",{className:"register-reminder",children:[Object(d.jsx)("span",{children:"\u5df2\u7d93\u6709\u5e33\u865f?"}),Object(d.jsx)(r.b,{to:{pathname:"/login",state:e.location.state?e.location.state:null},children:"\u767b\u5165"})]})]})]})})]})})),ee=function(e){var t=e.input,a=e.labelContent,c=e.id,s=e.type,n=e.meta,r=e.placeholder,i=e.selector;return Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:c,className:"form-label",children:a}),Object(d.jsx)("input",Object(l.a)({autoComplete:"off",type:s,className:"login-".concat(i," form-control").concat(n.error&&n.touched?" is-invalid":""),id:c,placeholder:r},t)),function(e){var t=e.error;if(e.touched&&t)return Object(d.jsx)("div",{className:"invalid-feedback",children:t})}(n)]})},te=Object(W.a)({form:"login",validate:function(e){var t=e.email,a=e.password,c={};return t?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)||(c.email="Email\u683c\u5f0f\u6709\u8aa4"):c.email="\u8acb\u586b\u5165Email\u6b04\u4f4d",a||(c.password="\u8acb\u586b\u5165\u5bc6\u78bc\u6b04\u4f4d"),c}})((function(e){var t=Object(n.d)((function(e){return e.userLogin})),a=t.loading,c=t.currentUser,s=t.error;Object(u.useEffect)((function(){c&&(e.location.state&&e.location.state.from?e.history.replace(e.location.state.from):e.history.replace("/"))}),[c,e.history,e.location]);var i,l=Object(n.c)();return Object(d.jsxs)("section",{id:"login",children:[s&&(i=s,"string"!==typeof i?i.map((function(e,t){return Object(d.jsx)(T,{type:"danger",children:e},t)})):Object(d.jsx)(T,{type:"danger",children:i})),Object(d.jsxs)("div",{className:"container",children:[a&&Object(d.jsx)(I,{}),Object(d.jsxs)("div",{className:"login-wrapper",children:[Object(d.jsx)("img",{src:"https://i.imgur.com/6uM0AVv.jpg",alt:"",className:"login-img"}),Object(d.jsxs)("form",{onSubmit:e.handleSubmit((function(e){var t=e.email,a=e.password;l(function(e,t){return function(){var a=Object(h.a)(p.a.mark((function a(c,s){var n,r,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:$}),a.prev=1,a.next=4,x.post("/api/login",{email:e,password:t});case 4:n=a.sent,r=n.data,c({type:B,payload:r}),localStorage.setItem("currentUser",JSON.stringify(r)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),i=a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message,c({type:J,payload:i});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,a))})),className:"login-form",children:[Object(d.jsx)("h3",{className:"login-title",children:"\u6703\u54e1\u767b\u5165"}),Object(d.jsx)(X.a,{name:"email",component:ee,labelContent:"Email",id:"email",type:"email",selector:"email",placeholder:"\u8acb\u8f38\u5165Email"}),Object(d.jsx)(X.a,{name:"password",component:ee,labelContent:"\u5bc6\u78bc",id:"password",type:"password",selector:"password",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc"}),Object(d.jsx)("button",{type:"submit",className:"login-btn default-btn btn",children:"\u767b\u5165"}),Object(d.jsxs)("div",{className:"login-reminder",children:[Object(d.jsx)("span",{children:"\u6c92\u6709\u6703\u54e1? "}),Object(d.jsx)(r.b,{to:{pathname:"/register",state:e.location.state?e.location.state:null},children:"\u8a3b\u518a"})]})]})]})]})]})})),ae="ORDER_CREATE_REQUEST",ce="ORDER_CREATE_SUCCESS",se="ORDER_CREATE_FAIL",ne="ORDER_CREATE_RESET",re="ORDER_DETAILS_REQUEST",ie="ORDER_DETAILS_SUCCESS",le="ORDER_DETAILS_FAIL",oe="ORDER_FETCH_REQUEST",de="ORDER_FETCH_SUCCESS",je="ORDER_FETCH_FAIL",ue="ORDER_DELETE_REQUEST",me="ORDER_DELETE_SUCCESS",be="ORDER_DELETE_FAIL",pe="ORDER_DELETE_RESET",he=function(){return function(){var e=Object(h.a)(p.a.mark((function e(t,a){var c,s,n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:oe}),c=a(),s=c.userLogin.currentUser,e.prev=2,e.next=5,x.get("/api/orders",{headers:{authorization:"Bearer ".concat(s.token)}});case 5:n=e.sent,r=n.data,t({type:de,payload:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:je,payload:i});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()},Oe=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(a,c){var s,n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ue}),s=c(),n=s.userLogin.currentUser,t.prev=2,t.next=5,x.delete("/api/orders/".concat(e),{headers:{authorization:"Bearer ".concat(n.token)}});case 5:a({type:me}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(2),r=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:be,payload:r});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,a){return t.apply(this,arguments)}}()},xe=function(e){console.log("CheckoutScreen render");var t=Object(u.useState)(""),a=Object(q.a)(t,2),c=a[0],s=a[1],i=Object(u.useState)(""),o=Object(q.a)(i,2),j=o[0],m=o[1],b=Object(u.useState)(""),O=Object(q.a)(b,2),f=O[0],v=O[1],N=Object(u.useState)(""),y=Object(q.a)(N,2),g=y[0],E=y[1],w=Object(u.useState)(""),S=Object(q.a)(w,2),C=S[0],_=S[1],R=Object(u.useState)({}),D=Object(q.a)(R,2),U=D[0],L=D[1],A=Object(u.useState)({}),F=Object(q.a)(A,2),M=F[0],P=F[1];Object(u.useEffect)((function(){!c&&M.recipient?L((function(e){return Object(l.a)(Object(l.a)({},e),{},{recipient:"\u8acb\u8f38\u5165\u6536\u4ef6\u4eba\u59d3\u540d\u6b04\u4f4d"})})):L((function(e){return Object(l.a)(Object(l.a)({},e),{},{recipient:null})}))}),[c,M.recipient]),Object(u.useEffect)((function(){!j&&M.phone?L((function(e){return Object(l.a)(Object(l.a)({},e),{},{phone:"\u8acb\u8f38\u5165\u6536\u4ef6\u4eba\u96fb\u8a71\u6b04\u4f4d"})})):L((function(e){return Object(l.a)(Object(l.a)({},e),{},{phone:null})}))}),[j,M.phone]),Object(u.useEffect)((function(){!f&&M.address?L((function(e){return Object(l.a)(Object(l.a)({},e),{},{address:"\u8acb\u8f38\u5165\u6536\u4ef6\u5730\u5740\u6b04\u4f4d"})})):L((function(e){return Object(l.a)(Object(l.a)({},e),{},{address:null})}))}),[f,M.address]),Object(u.useEffect)((function(){!g&&M.deliveryMethod?L((function(e){return Object(l.a)(Object(l.a)({},e),{},{deliveryMethod:"\u8acb\u9078\u64c7\u904b\u9001\u65b9\u5f0f"})})):L((function(e){return Object(l.a)(Object(l.a)({},e),{},{deliveryMethod:null})}))}),[g,M.deliveryMethod]),Object(u.useEffect)((function(){!C&&M.paymentMethod?L((function(e){return Object(l.a)(Object(l.a)({},e),{},{paymentMethod:"\u8acb\u9078\u64c7\u4ed8\u6b3e\u65b9\u5f0f"})})):L((function(e){return Object(l.a)(Object(l.a)({},e),{},{paymentMethod:null})}))}),[C,M.paymentMethod]);var $=Object(n.c)(),B=Object(n.d)((function(e){return e.cart.cartItems})),J=Object(n.d)((function(e){return e.createOrder})),H=J.loading,G=J.order,Q=J.error;Object(u.useEffect)((function(){G?($({type:ne}),$({type:k}),localStorage.removeItem("cartItems"),e.history.push("/orders/".concat(G.id))):Q&&"object"===typeof Q&&Object.keys(Q).length&&L(Q)}),[Q,G,$,e.history]);var Z=B.reduce((function(e,t){return e+t.quantity}),0),V=B.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(d.jsxs)("div",{children:[H&&Object(d.jsx)(I,{}),B.length?Object(d.jsxs)("div",{className:"container checkout",children:[function(){if("string"===typeof Q)return Object(d.jsx)(T,{type:"danger",children:Q})}(),Object(d.jsxs)("section",{id:"cart-items",className:"cart-items",children:[Object(d.jsx)("h4",{className:"cart-section-title",children:"\u8a02\u55ae\u5546\u54c1"}),Object(d.jsxs)("div",{className:"cart-header checkout",children:[Object(d.jsx)("span",{className:"cart-img"}),Object(d.jsx)("span",{className:"cart-title",children:"\u5546\u54c1"}),Object(d.jsx)("span",{className:"cart-price",children:"\u55ae\u50f9"}),Object(d.jsx)("span",{className:"cart-counter",children:"\u6578\u91cf"}),Object(d.jsx)("span",{className:"cart-subtotal",children:"\u7e3d\u8a08"})]}),B.map((function(e){return Object(d.jsxs)("div",{className:"cart-item checkout",children:[Object(d.jsx)("img",{className:"cart-item-img",src:e.image,alt:e.name}),Object(d.jsx)("span",{className:"cart-item-title",children:e.name}),Object(d.jsxs)("span",{className:"cart-item-price",children:["$",e.price]}),Object(d.jsxs)("div",{className:"cart-item-qty-wrapper",children:[Object(d.jsx)("span",{className:"cart-item-qty-title",children:"\u6578\u91cf: "}),Object(d.jsx)("span",{className:"cart-item-quantity",children:e.quantity})]}),Object(d.jsxs)("div",{className:"cart-item-subtotal-wrapper",children:[Object(d.jsx)("span",{className:"cart-item-subtotal-title",children:"\u7e3d\u8a08: "}),Object(d.jsxs)("span",{className:"cart-item-subtotal",children:["$",e.price*e.quantity]})]})]},e.id)})),Object(d.jsxs)("div",{className:"cart-summary-subtotal checkout",children:[Object(d.jsxs)("span",{children:["\u7e3d\u91d1\u984d(",Z,"\u9805\u5546\u54c1):"]}),Object(d.jsxs)("span",{className:"subtotal-price",children:["$",V]})]})]}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t,a={};c||(a.recipient="\u8acb\u8f38\u5165\u6536\u4ef6\u4eba\u59d3\u540d\u6b04\u4f4d"),j||(a.phone="\u8acb\u8f38\u5165\u6536\u4ef6\u4eba\u96fb\u8a71\u6b04\u4f4d"),f||(a.address="\u8acb\u8f38\u5165\u6536\u4ef6\u5730\u5740\u6b04\u4f4d"),g||(a.deliveryMethod="\u8acb\u9078\u64c7\u904b\u9001\u65b9\u5f0f"),C||(a.paymentMethod="\u8acb\u9078\u64c7\u4ed8\u6b3e\u65b9\u5f0f"),Object.keys(a).length?L(a):$((t={recipient:c,phone:j,address:f,deliveryMethod:g,paymentMethod:C,cartItems:B},function(){var e=Object(h.a)(p.a.mark((function e(a,c){var s,n,r,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:ae}),s=c(),n=s.userLogin.currentUser,e.prev=2,e.next=5,x.post("/api/orders",t,{headers:{authorization:"Bearer ".concat(n.token)}});case 5:r=e.sent,i=r.data,a({type:ce,payload:i}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),l=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,a({type:se,payload:l});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()))},className:"checkout-details-form",children:[Object(d.jsxs)("div",{id:"delivery-details",className:"delivery-details",children:[Object(d.jsx)("h4",{className:"delivery-section-title",children:"\u904b\u9001\u8cc7\u8a0a"}),Object(d.jsxs)("div",{className:"delivery-details-wrapper",children:[Object(d.jsx)("span",{className:"form-hint",children:"*\u5fc5\u586b\u6b04\u4f4d"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"recipient",children:"*\u6536\u4ef6\u4eba\u59d3\u540d"}),Object(d.jsx)("input",{className:"form-control".concat(U.recipient?" is-invalid":""," name"),type:"text",id:"recipient",placeholder:"\u8acb\u8f38\u5165\u6536\u4ef6\u4eba\u59d3\u540d",onChange:function(e){return s(e.target.value)},onBlur:function(e){return P(Object(l.a)(Object(l.a)({},M),{},{recipient:!0}))},value:c}),Object(d.jsx)("div",{className:"invalid-feedback",children:U.recipient})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"phone",children:"*\u6536\u4ef6\u4eba\u96fb\u8a71"}),Object(d.jsx)("input",{className:"form-control".concat(U.phone?" is-invalid":""," phone"),type:"text",id:"phone",placeholder:"\u8acb\u8f38\u5165\u6536\u4ef6\u4eba\u96fb\u8a71",onChange:function(e){return m(e.target.value)},onBlur:function(e){return P(Object(l.a)(Object(l.a)({},M),{},{phone:!0}))},value:j}),Object(d.jsx)("div",{className:"invalid-feedback",children:U.phone})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"address",children:"*\u6536\u4ef6\u5730\u5740"}),Object(d.jsx)("textarea",{className:"form-control".concat(U.address?" is-invalid":""," address"),type:"text",id:"address",placeholder:"\u8acb\u8f38\u5165\u6536\u4ef6\u5730\u5740",onChange:function(e){return v(e.target.value)},onBlur:function(e){return P(Object(l.a)(Object(l.a)({},M),{},{address:!0}))},value:f,rows:"3"}),Object(d.jsx)("div",{className:"invalid-feedback",children:U.address})]}),Object(d.jsxs)("div",{className:"delivery-method",children:[Object(d.jsx)("span",{className:"delivery-method-title",children:"*\u904b\u9001\u65b9\u5f0f:"}),Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)("input",{className:"form-check-input".concat(U.deliveryMethod?" is-invalid":""),type:"radio",name:"delivery-method",id:"delivery-method1",value:"\u5b85\u914d\u5230\u5e9c",onChange:function(e){E(e.target.value),P(Object(l.a)(Object(l.a)({},M),{},{deliveryMethod:!0}))}}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"delivery-method1",children:"\u5b85\u914d\u5230\u5e9c"})]}),Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)("input",{className:"form-check-input".concat(U.deliveryMethod?" is-invalid":""),type:"radio",name:"delivery-method",id:"delivery-method2",value:"\u8d85\u5546\u53d6\u8ca8",onChange:function(e){E(e.target.value),P(Object(l.a)(Object(l.a)({},M),{},{deliveryMethod:!0}))},disabled:!0}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"delivery-method2",children:"\u8d85\u5546\u53d6\u8ca8(\u5c1a\u672a\u958b\u653e)"})]}),Object(d.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:U.deliveryMethod})]})]})]}),Object(d.jsxs)("div",{id:"payment-details",className:"payment-details",children:[Object(d.jsx)("h4",{className:"payment-section-title",children:"\u4ed8\u6b3e\u65b9\u5f0f"}),Object(d.jsx)("div",{className:"payment-details-wrapper",children:Object(d.jsxs)("div",{className:"payment-method",children:[Object(d.jsxs)("div",{className:"form-check",children:[Object(d.jsx)("input",{className:"form-check-input".concat(U.paymentMethod?" is-invalid":""),type:"radio",name:"payment-method",id:"payment-method1",value:"\u4fe1\u7528\u5361",onChange:function(e){_(e.target.value),P(Object(l.a)(Object(l.a)({},M),{},{paymentMethod:!0}))}}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"payment-method1",children:"\u4fe1\u7528\u5361"})]}),Object(d.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:U.paymentMethod})]})})]}),Object(d.jsx)("button",{type:"submit",className:"btn default-btn checkout-btn",children:"\u4e0b\u8a02\u55ae"})]})]}):Object(d.jsx)(T,{type:"danger",children:Object(d.jsx)(r.b,{to:"/",children:"\u8acb\u52a0\u5165\u5546\u54c1\u81f3\u8cfc\u7269\u8eca"})})]})},fe=function(e){console.log("OrderDetailsScreen render");var t=e.match.params.id,a=Object(n.d)((function(e){return e.orderDetails})),c=a.loading,s=a.order,r=a.error,i=Object(n.c)();Object(u.useEffect)((function(){i(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(a,c){var s,n,r,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:re}),s=c(),n=s.userLogin.currentUser,t.prev=2,t.next=5,x.get("/api/orders/".concat(e),{headers:{authorization:"Bearer ".concat(n.token)}});case 5:r=t.sent,i=r.data,a({type:ie,payload:i}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,a({type:le,payload:l});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}),[i,t]);return Object(d.jsx)(d.Fragment,{children:function(){if(c)return Object(d.jsx)(I,{});if(r)return Object(d.jsxs)(T,{type:"danger",children:[" ",r]});if(s){var e=s.orderContent.paid_at?new Date(Date.parse(s.orderContent.paid_at)+288e5).toISOString().slice(0,19).split("T").join(" "):null,t=s.orderContent.OrderItems.reduce((function(e,t){return e+t.quantity}),0),a=s.orderContent.OrderItems.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(d.jsxs)("div",{className:"container order",children:[Object(d.jsxs)("section",{id:"order-checkout",className:"payment-details order-checkout",children:[Object(d.jsx)("h4",{className:"payment-section-title",children:"\u4ed8\u6b3e\u8cc7\u8a0a"}),Object(d.jsxs)("div",{className:"order-checkout-details-wrapper",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u4ed8\u6b3e\u65b9\u5f0f"}),Object(d.jsx)("span",{className:"col",children:s.orderContent.payment_method})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u4ed8\u6b3e\u72c0\u614b"}),Object(d.jsx)("span",{className:"col payment-status ".concat(s.orderContent.payment_status?"true":""),children:s.orderContent.payment_status?"\u5df2\u4ed8\u6b3e":"\u5c1a\u672a\u4ed8\u6b3e"})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u4ed8\u6b3e\u6642\u9593"}),Object(d.jsx)("span",{className:"col",children:e||"\u5c1a\u672a\u4ed8\u6b3e"})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u5546\u54c1\u7e3d\u8a08"}),Object(d.jsxs)("span",{className:"col",children:["$ ",s.orderContent.subtotal]})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u904b\u8cbb"}),Object(d.jsxs)("span",{className:"col",children:["$ ",s.orderContent.delivery_fee]})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u8a02\u55ae\u7e3d\u8a08"}),Object(d.jsxs)("span",{className:"col order-total",children:["$ ",s.orderContent.total]})]})]}),s.tradeInfo&&Object(d.jsx)("div",{className:"checkout-pay-form",children:Object(d.jsxs)("form",{name:"Newebpay",method:"post",action:s.tradeInfo.PayGateWay,children:[Object(d.jsx)("input",{type:"hidden",name:"MerchantID",value:s.tradeInfo.MerchantID}),Object(d.jsx)("input",{type:"hidden",name:"TradeInfo",value:s.tradeInfo.TradeInfo}),Object(d.jsx)("input",{type:"hidden",name:"TradeSha",value:s.tradeInfo.TradeSha}),Object(d.jsx)("input",{type:"hidden",name:"Version",value:s.tradeInfo.Version}),Object(d.jsx)("button",{type:"submit",className:"btn default-btn payment-btn",children:"\u4ed8\u6b3e\u53bb"})]})})]}),Object(d.jsxs)("section",{id:"order-items-details",className:"cart-items",children:[Object(d.jsx)("h4",{className:"cart-section-title",children:"\u8a02\u55ae\u5546\u54c1"}),Object(d.jsxs)("div",{className:"cart-header checkout",children:[Object(d.jsx)("span",{className:"cart-img"}),Object(d.jsx)("span",{className:"cart-title",children:"\u5546\u54c1"}),Object(d.jsx)("span",{className:"cart-price",children:"\u55ae\u50f9"}),Object(d.jsx)("span",{className:"cart-counter",children:"\u6578\u91cf"}),Object(d.jsx)("span",{className:"cart-subtotal",children:"\u7e3d\u8a08"})]}),s.orderContent.OrderItems.map((function(e){return Object(d.jsxs)("div",{className:"cart-item checkout",children:[Object(d.jsx)("img",{className:"cart-item-img",src:e.Product.image,alt:e.Product.name}),Object(d.jsx)("span",{className:"cart-item-title",children:e.Product.name}),Object(d.jsxs)("span",{className:"cart-item-price",children:["$",e.price]}),Object(d.jsxs)("div",{className:"cart-item-qty-wrapper",children:[Object(d.jsx)("span",{className:"cart-item-qty-title",children:"\u6578\u91cf: "}),Object(d.jsx)("span",{className:"cart-item-quantity",children:e.quantity})]}),Object(d.jsxs)("div",{className:"cart-item-subtotal-wrapper",children:[Object(d.jsx)("span",{className:"cart-item-subtotal-title",children:"\u7e3d\u8a08: "}),Object(d.jsxs)("span",{className:"cart-item-subtotal",children:["$",e.price*e.quantity]})]})]},e.id)})),Object(d.jsxs)("div",{className:"cart-summary-subtotal checkout",children:[Object(d.jsxs)("span",{children:["\u7e3d\u91d1\u984d(",t,"\u9805\u5546\u54c1):"]}),Object(d.jsxs)("span",{className:"subtotal-price",children:["$",a]})]})]}),Object(d.jsxs)("section",{id:"order-delivery-details",className:"delivery-details",children:[Object(d.jsx)("h4",{className:"delivery-section-title",children:"\u904b\u9001\u8cc7\u8a0a"}),Object(d.jsxs)("div",{className:"order-delivery-details-wrapper",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u6536\u4ef6\u4eba\u59d3\u540d"}),Object(d.jsx)("span",{className:"col",children:s.orderContent.recipient})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u6536\u4ef6\u5730\u5740"}),Object(d.jsx)("span",{className:"col",children:s.orderContent.address})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u6536\u4ef6\u4eba\u96fb\u8a71"}),Object(d.jsx)("span",{className:"col",children:s.orderContent.phone})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u904b\u9001\u65b9\u5f0f"}),Object(d.jsx)("span",{className:"col",children:s.orderContent.delivery_method})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u904b\u9001\u72c0\u614b"}),Object(d.jsx)("span",{className:"col",children:s.orderContent.delivery_status?"\u5df2\u51fa\u8ca8":"\u5c1a\u672a\u51fa\u8ca8"})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"col-4",children:"\u51fa\u8ca8\u6642\u9593"}),Object(d.jsx)("span",{className:"col",children:s.orderContent.delivered_at?s.orderContent.delivered_at:"\u5c1a\u672a\u51fa\u8ca8"})]})]})]})]})}}()})},ve=function(e){console.log("OrderList render");var t=Object(n.d)((function(e){return e.orders})),a=t.loading,c=t.orders,s=t.error,i=Object(n.d)((function(e){return e.deleteOrder})),l=i.loading,o=i.success,j=i.error,m=Object(n.c)();Object(u.useEffect)((function(){m(he())}),[m]),Object(u.useEffect)((function(){o&&(m({type:pe}),m(he()),L.fire({title:"\u6210\u529f\u53d6\u6d88\u8a02\u55ae",icon:"success"}))}),[m,o]);var b=function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.fire({title:"\u78ba\u8a8d\u53d6\u6d88\u6b64\u7b46\u8a02\u55ae?",showDenyButton:!0,showConfirmButton:!0,denyButtonText:"\u8fd4\u56de",confirmButtonText:"\u78ba\u8a8d"});case 2:e.sent.isConfirmed&&m(Oe(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"container",children:a||l?Object(d.jsx)(I,{}):s||j?Object(d.jsx)(T,{type:"danger",children:s}):c?c.length?Object(d.jsx)("section",{id:"order-list",className:"order-list",children:c.map((function(t,a){var c=new Date(Date.parse(t.createdAt)+288e5).toISOString().slice(0,19).split("T").join(" ");return Object(d.jsxs)("div",{className:"order-item",children:[Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u8a02\u55ae\u7de8\u865f"}),Object(d.jsxs)("div",{className:"item-value-wrapper",children:[Object(d.jsx)(r.b,{to:{pathname:"/orders/".concat(t.id),state:{from:e.location}},className:"item-value",children:t.sn}),Object(d.jsx)("span",{children:"(\u9ede\u64ca\u67e5\u770b\u660e\u7d30)"})]})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u6210\u7acb\u6642\u9593"}),Object(d.jsx)("div",{className:"item-value-wrapper",children:Object(d.jsx)("span",{className:"item-value",children:c})})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u4ed8\u6b3e\u65b9\u5f0f"}),Object(d.jsx)("div",{className:"item-value-wrapper",children:Object(d.jsx)("span",{className:"item-value",children:t.payment_method})})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u4ed8\u6b3e\u72c0\u614b"}),Object(d.jsx)("div",{className:"item-value-wrapper",children:Object(d.jsx)("span",{className:"item-value",children:t.payment_status?"\u5df2\u4ed8\u6b3e":"\u5c1a\u672a\u4ed8\u6b3e"})})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u904b\u9001\u65b9\u5f0f"}),Object(d.jsx)("div",{className:"item-value-wrapper",children:Object(d.jsx)("span",{className:"item-value",children:t.delivery_method})})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u904b\u9001\u72c0\u614b"}),Object(d.jsx)("div",{className:"item-value-wrapper",children:Object(d.jsx)("span",{className:"item-value",children:t.delivery_status?"\u5df2\u51fa\u8ca8":"\u5c1a\u672a\u51fa\u8ca8"})})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u8a02\u55ae\u91d1\u984d"}),Object(d.jsx)("div",{className:"item-value-wrapper",children:Object(d.jsxs)("span",{className:"item-value",children:["$",t.total]})})]}),Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("span",{className:"item-title",children:"\u64cd\u4f5c"}),Object(d.jsx)("div",{className:"item-value-wrapper",children:Object(d.jsx)("span",{className:"item-value",children:!t.payment_status&&Object(d.jsx)("button",{className:"btn btn-link",onClick:function(){b(t.id)},children:" \u53d6\u6d88\u8a02\u55ae"})})})]})]},a)}))}):Object(d.jsxs)(T,{type:"info",dismiss:!1,children:["\u6c92\u6709\u8a02\u55ae ",Object(d.jsx)(r.b,{to:"/",children:"\u53bb\u9078\u8cfc"})]}):void 0})};function Ne(){return console.log("App render"),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(r.a,{children:[Object(d.jsx)(i.b,{path:"/",component:z}),Object(d.jsxs)("main",{children:[Object(d.jsx)(i.b,{path:"/",exact:!0,component:A}),Object(d.jsx)(i.b,{path:"/products/:id",exact:!0,component:F}),Object(d.jsx)(i.b,{path:"/register",exact:!0,component:Y}),Object(d.jsx)(i.b,{path:"/login",exact:!0,component:te}),Object(d.jsx)(i.b,{path:"/cart",exact:!0,component:P}),Object(d.jsx)(j,{path:"/checkout",exact:!0,component:xe}),Object(d.jsx)(j,{path:"/orders",exact:!0,component:ve}),Object(d.jsx)(j,{path:"/orders/:id",exact:!0,component:fe})]})]}),Object(d.jsx)("footer",{children:Object(d.jsx)("p",{children:"\u6bdb\u5c0f\u5b69\u5546\u57ce \xa9 2021 "})})]})}var ye=a(11),ge=a(114),Ee=a(253),we=a(115),Se=Object(ye.c)({form:Ee.a,products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case v:return{loading:!1,products:t.payload};case N:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case g:return{loading:!1,product:t.payload};case E:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=e.cartItems;switch(t.type){case w:var c=t.payload,s=e.cartItems.find((function(e){return e.id===c.id}));return s?(a=a.map((function(e){return e.id===c.id?c:e})),Object(l.a)(Object(l.a)({},e),{},{cartItems:a,actionSuccess:!0})):(a=[].concat(Object(we.a)(a),[c]),Object(l.a)(Object(l.a)({},e),{},{cartItems:a,actionSuccess:!0}));case S:var n=t.payload;return a=a.filter((function(e){return e.id!==n})),Object(l.a)(Object(l.a)({},e),{},{cartItems:a,actionSuccess:!0});case C:return Object(l.a)(Object(l.a)({},e),{},{actionSuccess:!1});case k:return Object(l.a)(Object(l.a)({},e),{},{cartItems:[]});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0};case B:return{loading:!1,currentUser:t.payload};case J:return{loading:!1,error:t.payload};case H:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return{loading:!0};case Q:return{loading:!1,success:!0};case Z:return{loading:!1,error:t.payload};case V:return{};default:return e}},createOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case ce:return{loading:!1,order:t.payload};case se:return{loading:!1,error:t.payload};case ne:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return{loading:!0};case ie:return{loading:!1,order:t.payload};case le:return{loading:!1,error:t.payload};default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case de:return{loading:!1,orders:t.payload};case je:return{loading:!1,error:t.payload};default:return e}},deleteOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case me:return{loading:!1,success:!0};case be:return{loading:!1,error:t.payload};case pe:return{};default:return e}}}),Ce={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},userLogin:{currentUser:localStorage.getItem("currentUser")?JSON.parse(localStorage.getItem("currentUser")):null}},ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ye.d,_e=Object(ye.e)(Se,Ce,ke(Object(ye.a)(ge.a)));s.a.render(Object(d.jsx)(n.a,{store:_e,children:Object(d.jsx)(Ne,{})}),document.querySelector("#root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.0e79af5f.chunk.js.map